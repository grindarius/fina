<div class="calculate-bisection-page">
  <section class="hero">
    <div class="hero-body">
      <div class="container">
        <h1 class="title is-2">
          Find the root of the function <katex-element :expression="getRouteQueries().expression" />
          where the root lies between <katex-element :expression="getRouteQueries().start.toString()" /> and
          <katex-element :expression="getRouteQueries().end.toString()" />
        </h1>
      </div>
    </div>
  </section>
  <section class="hero">
    <div class="hero-body">
      <div class="container">
        <h1 class="title is-2">
          Graph visualization
        </h1>
        <div v-if="!isFetching">
          <grapher :id="'bisection-answer-graph'" :expression="getRouteQueries().expression" :start="getRouteQueries().start" :end="getRouteQueries().end" :points="points" />
        </div>
      </div>
    </div>
  </section>
  <section class="hero">
    <div class="hero-body">
      <div class="container">
        <h1 class="title is-2">
          Table visualization
        </h1>
        <div v-if="!isFetching">
          <div class="table-container">
            <table class="table is-fullwidth">
              <thead>
                <tr>
                  <th v-for="key in tableKeys">
                    <katex-element :expression="key.field" />
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="eachIteration in answer">
                  <td v-for="eachItem in Object.entries(eachIteration)" class="nowrap">
                    <span class="subtitle is-6" v-if="eachItem[0] === 'error'">
                      {{ eachItem[1] }}%
                    </span>
                    <span class="subtitle is-6" v-else>
                      {{ eachItem[1] }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
